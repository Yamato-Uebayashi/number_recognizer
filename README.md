# 概要
  これは白黒の手書き数字を認識する単純なOCRです。僕が高専3年生の夏休みにプログラミングの自由課題として作成しました。
  この課題ではオブジェクト指向の機能を使わなければならないとの制約を設けられた為、各パラメータを行列で扱うのではなくニューロン1つ1つにメンバとして持たせる形となっています。
  また、僕はグラフィックボード非搭載のノートPCしか持っていない為、GPUによる並列化などの最適化を一切行っていません。さらに開発で使用したRust言語も経験は浅く、無駄な処理が多く残っています。\
  これらの理由により効率はかなり悪く、正答率90%超えを目指した設定にすると訓練に20分ほどかかる事が多いです(これは後述の環境で実行した際の結果です)。いつか機器と技能が揃ったら改良するかも知れません。

# 仕様
  ## モデルの構造
  複数のニューロンを含む層がいくつか並んでいるような構造をしています。層をいくつ作るか、各層がそれぞれいくつのニューロンを持つのかという情報はユーザから標準入力で受け取ります(これに限らず、ユーザとのやり取りはは画像ファイルの取り込みを除いて全て標準入出力です)。
  その後、バッチサイズとエポック数、学習率も受け取って訓練を進めていきます。訓練は受け取った画像を元に順伝播と誤差逆伝播を繰り返す単純なものです。使う活性化関数は、出力層ではSoftmax、それ以外ではLeakyReLU(係数は-0.04)にしています。
  
  ## 流れ
  このプログラムを実行すると、次に示す4つの選択肢が表示されます。
  1. 新しいモデルを作る
  1. モデルを読み込んで自動試験
  1. モデルを読み込んで手動試験
  1. 終了
     
  1を選んだ場合、前述の手順で必要なパラメータを受け取り、それに従ってモデルを訓練します。訓練中はデバッグ用に損失やイテレーション、エポック数や学習率、出力層の各アクティベーションの値などを表示します。
    学習が終わるとユーザから文字列を受け取ってそれをモデル名とし、save_datasディレクトリに保存します。
    
  2あるいは3を選んだ場合、モデルの名前をユーザから受け取り、そのモデルをsave_datasディレクトリからロードします。\
  2ではEMNISTデータセットの試験用データ40000枚の数字の判定をし、損失の平均と正答率を出力します。
  3ではモデルが0~9それぞれについてどれだけの確率であると判断したか出力されます。
  
  4を選ぶとプログラムを終了します。  
  
  ## 外部のソフトウェア・データセット
  読み込む画像を手書き入力にて作成するにはProcessing言語で開発した別プログラムcharacter_inputを使用する必要があります。その画面は 28 * 28 = 784 ピクセルの白黒キャンバスを含んでおり、ユーザはをこれを使って数字を手書きして保存する事ができます。\
  そうして出てきた画像データ(.bin形式)を本プロジェクトのtest_imageディレクトリに移動させると、自分の手書き文字を判定させる事ができます。
  character_inputはまた別のリポジトリに保管しています。\
  モデルの訓練および試験に使うデータは[EMNISTデータセット](https://web.archive.org/web/20200723165422/https://www.nist.gov/itl/products-and-services/emnist-dataset)にて無料配布されているものを利用しました。

# 開発環境
Rustコンパイラ、エディタ、ターミナル、シェルのバージョンは記録していなかった為不明ですが、動作確認ができた最新のバージョンを記載しています。
  | 項目 | 仕様 |
  | :--- | :--- |
  | PCの型番 | dynabook GZ/HUL W6GZHU7XBL |
  | OS | Ubuntu24.04LTS<br>Ubuntu24.10 |
  | CPU | 11th Gen Intel i7-1195G7 (8) @ 5.000GHz |
  | メモリ容量 | 15142MB |
  | ターミナル | gnome-terminal 3.54.0 |
  | シェル | bash 5.2.32 |
  | Rustコンパイラのバージョン | 1.86.0 |
  | エディタ | Visual Studio Code 1.99.3<br>Zed 0.183.11 |
